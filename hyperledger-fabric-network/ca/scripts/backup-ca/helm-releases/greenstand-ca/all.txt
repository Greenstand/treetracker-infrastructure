NAME: greenstand-ca
LAST DEPLOYED: Fri Aug  8 03:54:37 2025
NAMESPACE: hlf-ca
STATUS: failed
REVISION: 1
CHART: greenstand-ca
VERSION: 0.1.0
APP_VERSION: 1.5.12
TEST SUITE: None
USER-SUPPLIED VALUES:
null

COMPUTED VALUES:
intermediateCA:
  bootstrapPassword: greenstandcapw
  bootstrapUser: greenstand-ca
  csr:
    cn: greenstand-ca
    hosts:
    - greenstand-ca
    - greenstand-ca.hlf-ca.svc.cluster.local
    - localhost
  enabled: true
  image:
    pullPolicy: IfNotPresent
    repository: hyperledger/fabric-ca
    tag: 1.5.12
  msp:
    secretName: greenstand-ca-msp
  name: greenstand-ca
  namespace: hlf-ca
  parentHost: root-ca.hlf-ca.svc.cluster.local
  parentID: greenstand-ca
  parentSecret: greenstandcapw
  port: 7054
  service:
    port: 7054
  storage:
    accessMode: ReadWriteOnce
    pvcName: greenstand-ca-pvc
    size: 2Gi
    storageClass: do-block-storage
  tls:
    enabled: true
    secretName: root-tls-cert

HOOKS:
MANIFEST:
---
# Source: greenstand-ca/templates/pvc.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: greenstand-ca-pvc
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  accessModes:
    - "ReadWriteOnce"
  resources:
    requests:
      storage: "2Gi"
  storageClassName: "do-block-storage"
---
# Source: greenstand-ca/templates/pvc.yaml.bkp-startingPoint
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pvc-greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi
  storageClassName: do-block-storage
---
# Source: greenstand-ca/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  selector:
    app: greenstand-ca
  ports:
    - name: ca-port
      port: 7054
      targetPort: ca-port
---
# Source: greenstand-ca/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  replicas: 1
  selector:
    matchLabels:
      app: greenstand-ca
  template:
    metadata:
      labels:
        app: greenstand-ca
    spec:
      containers:
        - name: fabric-ca
          image: "hyperledger/fabric-ca:1.5.12"
          imagePullPolicy: IfNotPresent
          ports:
            - containerPort: 7054
              name: ca-port
          env:
            - name: FABRIC_CA_HOME
              value: /etc/hyperledger/fabric-ca-server
            - name: FABRIC_CA_SERVER_CA_NAME
              value: greenstand-ca
            - name: FABRIC_CA_SERVER_PORT
              value: "7054"
            - name: FABRIC_CA_SERVER_PARENT_URL
              value: "https://greenstand-ca:greenstandcapw@root-ca.hlf-ca.svc.cluster.local:7054"
            - name: FABRIC_CA_SERVER_TLS_ENABLED
              value: "true"
            - name: FABRIC_CA_SERVER_CSR_HOSTS
              value: "greenstand-ca,greenstand-ca.hlf-ca.svc.cluster.local,localhost"
          volumeMounts:
            - name: fabric-ca-data
              mountPath: /etc/hyperledger/fabric-ca-server
      volumes:
        - name: fabric-ca-data
          persistentVolumeClaim:
            claimName: pvc-greenstand-ca
---
# Source: greenstand-ca/templates/deployment.yaml.bkp
apiVersion: apps/v1
kind: Deployment
metadata:
  name: greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  replicas: 1
  selector:
    matchLabels:
      app: greenstand-ca
  template:
    metadata:
      labels:
        app: greenstand-ca
    spec:
      containers:
        - name: fabric-ca
          image: "hyperledger/fabric-ca:1.5.12"
          imagePullPolicy: IfNotPresent
          ports:
            - containerPort: 7054
              name: ca-port
          env:
            # Set the Fabric CA server's home directory within the container.
            - name: FABRIC_CA_HOME
              value: /etc/hyperledger/fabric-ca-server
            # Set the logical name of the CA.  This is used as the
            # certificate "Common Name" and to tag issued certificates.
            - name: FABRIC_CA_SERVER_CA_NAME
              value: greenstand-ca
            # Configure the listening port of the CA server.
            - name: FABRIC_CA_SERVER_PORT
              value: "7054"
            # Configure the URL of the parent CA.  When specified, the
            # intermediate CA's certificate will be signed by the parent CA
            # instead of being self‑signed.  The parent URL must embed
            # credentials registered at the parent CA (hf.IntermediateCA=true)
            - name: FABRIC_CA_SERVER_PARENT_URL
              value: "https://greenstand-ca:greenstandcapw@root-ca.hlf-ca.svc.cluster.local:7054"
            # Enable TLS for the CA server.  Without TLS, the server will
            # listen on HTTP and be vulnerable to network attacks【414858305040423†L546-L551】.
            - name: FABRIC_CA_SERVER_TLS_ENABLED
              value: "true"
            # Provide a list of hostnames for the CSR.  The Fabric CA will
            # embed these values in the certificate's SAN extension so that
            # clients can verify the certificate when connecting via any of
            # these names【414858305040423†L330-L333】.
            - name: FABRIC_CA_SERVER_CSR_HOSTS
              value: "greenstand-ca,greenstand-ca.hlf-ca.svc.cluster.local,localhost"
          volumeMounts:
            # Persist the CA's state (keys, certificates, configuration) in
            # a persistent volume.  Without a volume, data will be lost if the
            # pod is rescheduled.
            - name: fabric-ca-data
              mountPath: /etc/hyperledger/fabric-ca-server
      volumes:
        - name: fabric-ca-data
          persistentVolumeClaim:
            claimName: pvc-greenstand-ca
---
# Source: greenstand-ca/templates/deployment.yaml.bkp-startingPoint
apiVersion: apps/v1
kind: Deployment
metadata:
  name: greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  replicas: 1
  selector:
    matchLabels:
      app: greenstand-ca
  template:
    metadata:
      labels:
        app: greenstand-ca
    spec:
      containers:
        - name: fabric-ca
          image: "hyperledger/fabric-ca:1.5.12"
          imagePullPolicy: IfNotPresent
          ports:
            - containerPort: 7054
              name: ca-port
          env:
            - name: FABRIC_CA_HOME
              value: /etc/hyperledger/fabric-ca-server
            - name: FABRIC_CA_SERVER_CA_NAME
              value: greenstand-ca
            - name: FABRIC_CA_SERVER_PORT
              value: "7054"
            - name: FABRIC_CA_SERVER_PARENT_URL
              value: "https://greenstand-ca:greenstandcapw@root-ca.hlf-ca.svc.cluster.local:7054"
            - name: FABRIC_CA_SERVER_TLS_ENABLED
              value: "true"
            - name: FABRIC_CA_SERVER_CSR_HOSTS
              value: "greenstand-ca,greenstand-ca.hlf-ca.svc.cluster.local,localhost"
          volumeMounts:
            - name: fabric-ca-data
              mountPath: /etc/hyperledger/fabric-ca-server
      volumes:
        - name: fabric-ca-data
          persistentVolumeClaim:
            claimName: pvc-greenstand-ca
---
# Source: greenstand-ca/templates/deployment.yaml.bkp1
apiVersion: apps/v1
kind: Deployment
metadata:
  name: greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  replicas: 1
  selector:
    matchLabels:
      app: greenstand-ca
  template:
    metadata:
      labels:
        app: greenstand-ca
    spec:
      containers:
        - name: fabric-ca
          image: "hyperledger/fabric-ca:1.5.12"
          imagePullPolicy: IfNotPresent
          ports:
            - containerPort: 7054
              name: ca-port
          env:
            - name: FABRIC_CA_HOME
              value: /etc/hyperledger/fabric-ca-server
            - name: FABRIC_CA_SERVER_CA_NAME
              value: greenstand-ca
            - name: FABRIC_CA_SERVER_PORT
              value: "7054"
            - name: FABRIC_CA_SERVER_TLS_ENABLED
              value: "true"
            - name: FABRIC_CA_SERVER_PARENT_URL
              value: "https://greenstand-ca:greenstandcapw@root-ca.hlf-ca.svc.cluster.local:7054"
            - name: FABRIC_CA_SERVER_CSR_HOSTS
              value: "greenstand-ca,greenstand-ca.hlf-ca.svc.cluster.local,localhost"
            - name: FABRIC_CA_SERVER_TLS_CERTFILE
              value: /etc/hyperledger/fabric-ca-server-config/cert.pem
            - name: FABRIC_CA_SERVER_TLS_KEYFILE
              value: /etc/hyperledger/fabric-ca-server-config/key.pem
            - name: FABRIC_CA_SERVER_TLS_CHAINFILE
              value: /etc/hyperledger/fabric-ca-server-config/ca-chain.pem
          volumeMounts:
            - name: fabric-ca-data
              mountPath: /etc/hyperledger/fabric-ca-server
            - name: tls-cert
              mountPath: /etc/hyperledger/fabric-ca-server-config
              readOnly: true
            - name: ca-msp
              mountPath: /etc/hyperledger/fabric-ca-server/msp
              readOnly: false
      volumes:
        - name: fabric-ca-data
          persistentVolumeClaim:
            claimName: pvc-greenstand-ca
        - name: tls-cert
          secret:
            secretName: root-tls-cert
        - name: ca-msp
          secret:
            secretName: greenstand-ca-msp
---
# Source: greenstand-ca/templates/deployment.yaml.bkpios
apiVersion: apps/v1
kind: Deployment
metadata:
  name: greenstand-ca
  namespace: hlf-ca
  labels:
    app: greenstand-ca
spec:
  replicas: 1
  selector:
    matchLabels:
      app: greenstand-ca
  template:
    metadata:
      labels:
        app: greenstand-ca
    spec:
      containers:
        - name: fabric-ca
          image: "hyperledger/fabric-ca:1.5.12"
          imagePullPolicy: IfNotPresent
          ports:
            - containerPort: 7054
              name: ca-port
          env:
            - name: FABRIC_CA_HOME
              value: /etc/hyperledger/fabric-ca-server
            - name: FABRIC_CA_SERVER_CA_NAME
              value: greenstand-ca
            - name: FABRIC_CA_SERVER_PORT
              value: "7054"
            - name: FABRIC_CA_SERVER_TLS_ENABLED
              value: "true"
            - name: FABRIC_CA_SERVER_CSR_CN
              value: greenstand-ca
            - name: FABRIC_CA_SERVER_CSR_HOSTS
              value: "greenstand-ca,greenstand-ca.hlf-ca.svc.cluster.local,localhost"
            - name: FABRIC_CA_SERVER_INTERMEDIATE_TLS_CERTFILES
              value: "/etc/hyperledger/fabric-ca-server/root-tls-cert.pem"
            - name: FABRIC_CA_SERVER_INTERMEDIATE_PARENTSERVER_URL
              value: "https://greenstand-ca:greenstandcapw@root-ca.hlf-ca.svc.cluster.local:7054"
          volumeMounts:
            - name: fabric-ca-data
              mountPath: /etc/hyperledger/fabric-ca-server
            - name: root-tls-cert
              mountPath: /etc/hyperledger/fabric-ca-server/root-tls-cert.pem
              subPath: root-tls-cert.pem
              readOnly: true
      volumes:
        - name: fabric-ca-data
          persistentVolumeClaim:
            claimName: greenstand-ca-pvc
        - name: root-tls-cert
          secret:
            secretName: root-tls-cert

