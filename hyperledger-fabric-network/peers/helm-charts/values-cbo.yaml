# CBO Peer Helm Configuration
# ------- Common -------
namespace: hlf-cbo-peer
mspID: CBOMSP

image:
  repository: hyperledger/fabric-peer
  tag: 2.5.4
  pullPolicy: IfNotPresent

busyboxImage: busybox:1.36

# Enable CCAAS external builder for all peers (recommended on k8s)
chaincode:
  externalBuilder:
    enabled: true   # ensures core.yaml gets externalBuilders section

peers:
  - name: peer0-cbo
    id: 0
    host: peer0.cbo
    chaincodeExternalBuilder: true

ports:
  listen: 7051
  chaincode: 7052
  operations: 9443
  metrics: 9444

# ---- Storage / PVC ----
persistence:
  enabled: true
  size: 20Gi
  storageClassName: "do-block-storage"
  accessModes: ["ReadWriteOnce"]

# Orderers (for CLI/discovery if needed)
orderers:
  - "orderer0.hlf-orderer.svc.cluster.local:7050"
  - "orderer1.hlf-orderer.svc.cluster.local:7050"
  - "orderer2.hlf-orderer.svc.cluster.local:7050"
  - "orderer3.hlf-orderer.svc.cluster.local:7050"
  - "orderer4.hlf-orderer.svc.cluster.local:7050"

# Service (one per peer)
service:
  type: ClusterIP

# Optional scheduling knobs
resources: {}
nodeSelector: {}
tolerations: []
affinity: {}
